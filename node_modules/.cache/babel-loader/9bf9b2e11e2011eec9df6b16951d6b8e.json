{"ast":null,"code":"var _jsxFileName = \"E:\\\\fileExFrZip\\\\RFP\\\\src\\\\page\\\\trending\\\\trending.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Header, Sidebar, VideoList, Loader, Pagination, TrendingAddForm } from '../../component/index';\nimport { Icon } from 'semantic-ui-react';\nimport * as videoAction from '../../state/action/video';\nimport { getMostPopularVideo, getLoading, getError } from '../../state/reducer/video';\nimport { ToastContainer, toast } from 'react-toastify';\nimport './trending.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Trending() {\n  _s();\n\n  const [pagination, setPagination] = useState({\n    _page: 1,\n    _limit: 8,\n    totalRow: 50\n  });\n  const [filter, setFilter] = useState({\n    _page: 1,\n    _limit: 8\n  });\n  const [isShowing, setIsShowing] = useState(false);\n  const videoList = useSelector(getMostPopularVideo);\n  const isLoading = useSelector(getLoading);\n  const hasError = useSelector(getError);\n  const dispatch = useDispatch(); //\n\n  useEffect(() => {\n    dispatch(videoAction.mostPopularOnline.request(filter));\n\n    if (videoList.data.length > 0) {\n      setPagination({ ...pagination,\n        _page: filter._page,\n        totalRow: videoList.totalPage\n      });\n      scrollToTop();\n    } else if (hasError) {\n      toast.error(hasError);\n    }\n  }, [filter._page, hasError]);\n\n  function handlePageChange(newPage) {\n    setFilter({ ...filter,\n      _page: newPage\n    });\n  }\n\n  function toggleForm() {\n    setIsShowing(!isShowing);\n  }\n\n  function closeModal() {\n    setIsShowing(false);\n  }\n\n  function scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trending-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trending-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trending-content__list\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\",\n          children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-list-container\",\n          children: /*#__PURE__*/_jsxDEV(VideoList, {\n            video: videoList.data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal position-fixed add-button\",\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          name: \"add\",\n          size: \"large\",\n          className: \" add-button__icon\",\n          onClick: toggleForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-container\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          pagination: pagination,\n          onPageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), hasError && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \" no data...\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TrendingAddForm, {\n      isShowing: isShowing,\n      hide: toggleForm,\n      closeModal: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Trending, \"03HfBFcEgDp9kwq8Wmbx41Sokh8=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Trending;\n\nvar _c;\n\n$RefreshReg$(_c, \"Trending\");","map":{"version":3,"sources":["E:/fileExFrZip/RFP/src/page/trending/trending.tsx"],"names":["useState","useEffect","useDispatch","useSelector","Header","Sidebar","VideoList","Loader","Pagination","TrendingAddForm","Icon","videoAction","getMostPopularVideo","getLoading","getError","ToastContainer","toast","Trending","pagination","setPagination","_page","_limit","totalRow","filter","setFilter","isShowing","setIsShowing","videoList","isLoading","hasError","dispatch","mostPopularOnline","request","data","length","totalPage","scrollToTop","error","handlePageChange","newPage","toggleForm","closeModal","window","scrollTo","top","behavior"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Header, Sidebar, VideoList, Loader, Pagination, TrendingAddForm } from '../../component/index';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport * as videoAction from '../../state/action/video';\r\nimport { getMostPopularVideo, getLoading, getError } from '../../state/reducer/video';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport './trending.scss';\r\n\r\ntype VideoData = {\r\n  data: [];\r\n  totalPage: number;\r\n};\r\n\r\nexport function Trending() {\r\n  const [pagination, setPagination] = useState({\r\n    _page: 1,\r\n    _limit: 8,\r\n    totalRow: 50,\r\n  });\r\n  const [filter, setFilter] = useState({\r\n    _page: 1,\r\n    _limit: 8,\r\n  });\r\n  const [isShowing, setIsShowing] = useState(false);\r\n  const videoList: VideoData = useSelector(getMostPopularVideo);\r\n  const isLoading: boolean = useSelector(getLoading);\r\n  const hasError: any = useSelector(getError);\r\n  const dispatch = useDispatch();\r\n\r\n  //\r\n  useEffect(() => {\r\n    dispatch(videoAction.mostPopularOnline.request(filter));\r\n    if (videoList.data.length > 0) {\r\n      setPagination({\r\n        ...pagination,\r\n        _page: filter._page,\r\n        totalRow: videoList.totalPage,\r\n      });\r\n      scrollToTop();\r\n    } else if (hasError) {\r\n      toast.error(hasError);\r\n    }\r\n  }, [filter._page, hasError]);\r\n\r\n  function handlePageChange(newPage: number) {\r\n    setFilter({\r\n      ...filter,\r\n      _page: newPage,\r\n    });\r\n  }\r\n\r\n  function toggleForm() {\r\n    setIsShowing(!isShowing);\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsShowing(false);\r\n  }\r\n\r\n  function scrollToTop() {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className='trending-container'>\r\n      <Header />\r\n      <Sidebar />\r\n      <div className='trending-content'>\r\n        <div className='trending-content__list'>\r\n          {isLoading ? (\r\n            <div className='loader'>\r\n              <Loader />\r\n            </div>\r\n          ) : (\r\n            <div className='video-list-container'>\r\n              <VideoList video={videoList.data} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className='modal position-fixed add-button'>\r\n          <Icon name='add' size='large' className=' add-button__icon' onClick={toggleForm}></Icon>\r\n        </div>\r\n        <div className='pagination-container'>\r\n          <Pagination pagination={pagination} onPageChange={handlePageChange} />\r\n        </div>\r\n      </div>\r\n      {hasError && <> no data...</>}\r\n      <ToastContainer />\r\n      <TrendingAddForm isShowing={isShowing} hide={toggleForm} closeModal={closeModal} />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
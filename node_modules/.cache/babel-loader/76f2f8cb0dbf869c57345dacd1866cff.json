{"ast":null,"code":"import { fork, take, takeLatest } from 'redux-saga/effects';\nimport * as videoAction from '../action/video';\nimport { REQUEST } from '../action';\nimport { Query } from '../../access/api/index';\nimport { Command } from '../../access/api/command-api';\nimport { fetchEntity } from './index'; //worker\n\nexport function* fetchMostPopularVideo(filter) {\n  const request = Query.trending.list;\n  const param = filter.filter;\n  yield fetchEntity(request, param, videoAction.mostPopularOnline);\n}\nexport function* postNewVideo(data) {\n  const request = Command.trending.add;\n  const param = data;\n  yield fetchEntity(request, param, videoAction.createNewVideo);\n} //watchcer\n\nexport function* watchMostPopularVideo() {\n  yield takeLatest(videoAction.MOST_POPULAR_ONLINE[REQUEST], fetchMostPopularVideo);\n}\nexport function* watchCreateNewVideo() {\n  while (true) {\n    const {\n      data\n    } = yield take(videoAction.CREATE_NEW_VIDEO[REQUEST]);\n    yield fork(postNewVideo, data);\n  }\n}","map":{"version":3,"sources":["E:/fileExFrZip/RFP/src/state/saga/video.ts"],"names":["fork","take","takeLatest","videoAction","REQUEST","Query","Command","fetchEntity","fetchMostPopularVideo","filter","request","trending","list","param","mostPopularOnline","postNewVideo","data","add","createNewVideo","watchMostPopularVideo","MOST_POPULAR_ONLINE","watchCreateNewVideo","CREATE_NEW_VIDEO"],"mappings":"AAAA,SAASA,IAAT,EAAeC,IAAf,EAAqBC,UAArB,QAAuC,oBAAvC;AACA,OAAO,KAAKC,WAAZ,MAA6B,iBAA7B;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,SAASC,WAAT,QAA4B,SAA5B,C,CAEA;;AACA,OAAO,UAAUC,qBAAV,CAAgCC,MAAhC,EAA8C;AACnD,QAAMC,OAAO,GAAGL,KAAK,CAACM,QAAN,CAAeC,IAA/B;AACA,QAAMC,KAAK,GAAGJ,MAAM,CAACA,MAArB;AACA,QAAMF,WAAW,CAACG,OAAD,EAAUG,KAAV,EAAiBV,WAAW,CAACW,iBAA7B,CAAjB;AACD;AAED,OAAO,UAAUC,YAAV,CAAuBC,IAAvB,EAAkC;AACvC,QAAMN,OAAO,GAAGJ,OAAO,CAACK,QAAR,CAAiBM,GAAjC;AACA,QAAMJ,KAAK,GAAGG,IAAd;AACA,QAAMT,WAAW,CAACG,OAAD,EAAUG,KAAV,EAAiBV,WAAW,CAACe,cAA7B,CAAjB;AACD,C,CAED;;AACA,OAAO,UAAUC,qBAAV,GAAkC;AACvC,QAAMjB,UAAU,CAACC,WAAW,CAACiB,mBAAZ,CAAgChB,OAAhC,CAAD,EAA2CI,qBAA3C,CAAhB;AACD;AAED,OAAO,UAAUa,mBAAV,GAAgC;AACrC,SAAO,IAAP,EAAa;AACX,UAAM;AAAEL,MAAAA;AAAF,QAAW,MAAMf,IAAI,CAACE,WAAW,CAACmB,gBAAZ,CAA6BlB,OAA7B,CAAD,CAA3B;AACA,UAAMJ,IAAI,CAACe,YAAD,EAAeC,IAAf,CAAV;AACD;AACF","sourcesContent":["import { fork, take, takeLatest } from 'redux-saga/effects';\r\nimport * as videoAction from '../action/video';\r\nimport { REQUEST } from '../action';\r\nimport { Query } from '../../access/api/index';\r\nimport { Command } from '../../access/api/command-api';\r\nimport { fetchEntity } from './index';\r\n\r\n//worker\r\nexport function* fetchMostPopularVideo(filter?: any) {\r\n  const request = Query.trending.list;\r\n  const param = filter.filter;\r\n  yield fetchEntity(request, param, videoAction.mostPopularOnline);\r\n}\r\n\r\nexport function* postNewVideo(data: any) {\r\n  const request = Command.trending.add;\r\n  const param = data;\r\n  yield fetchEntity(request, param, videoAction.createNewVideo);\r\n}\r\n\r\n//watchcer\r\nexport function* watchMostPopularVideo() {\r\n  yield takeLatest(videoAction.MOST_POPULAR_ONLINE[REQUEST], fetchMostPopularVideo);\r\n}\r\n\r\nexport function* watchCreateNewVideo() {\r\n  while (true) {\r\n    const { data } = yield take(videoAction.CREATE_NEW_VIDEO[REQUEST]);\r\n    yield fork(postNewVideo, data);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
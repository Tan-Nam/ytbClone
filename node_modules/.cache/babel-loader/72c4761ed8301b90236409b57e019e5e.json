{"ast":null,"code":"var _jsxFileName = \"E:\\\\fileExFrZip\\\\RFP\\\\src\\\\component\\\\form\\\\trending-add-form.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getLoading } from '../../state/reducer/video';\nimport * as videoAction from '../../state/action/video';\nimport { ToastContainer, toast } from 'react-toastify';\nimport './trending-add-form.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst optionSelect = ['UCGwu0nbY2wSkW8N-cghnLpA', 'UCANLZYMidaCbLQFWXBC95Jg', 'UCSpfz1IyUA1NBH-cgj8ygUw'];\nexport function TrendingAddForm(props) {\n  _s();\n\n  const {\n    isShowing,\n    hide,\n    closeModal\n  } = props;\n  const [newVideo, setNewVideo] = useState({\n    id: '',\n    snippet: {\n      channelId: '',\n      title: '',\n      description: '',\n      thumbnails: {\n        medium: {\n          url: ''\n        }\n      }\n    }\n  });\n  const [hasError, setHasError] = useState(null);\n  const [isFormValid, setIsFormValid] = useState({\n    id: '',\n    title: '',\n    image: '',\n    channelId: '',\n    description: ''\n  });\n  const isLoading = useSelector(getLoading);\n  const dispatch = useDispatch();\n  const videoIdRef = useRef(null);\n  const channelIdRef = useRef(null);\n  const videoTitleRef = useRef(null);\n  const videoDescriptionRef = useRef(null);\n  const videoImageRef = useRef(null);\n  const diasble = isLoading ? 'disable' : ''; //\n\n  function handleIdChange(e) {\n    let field = e.target.name;\n    setNewVideo({ ...newVideo,\n      [field]: e.target.value\n    });\n  }\n\n  function handleSnippetChange(e) {\n    let field = e.target.name;\n    setNewVideo(prev => ({ ...prev,\n      snippet: { ...prev.snippet,\n        [field]: e.target.value\n      }\n    }));\n  }\n\n  function handleImageChange(e) {\n    setNewVideo(prev => ({ ...prev,\n      snippet: { ...prev.snippet,\n        thumbnails: {\n          medium: {\n            url: e.target.value\n          }\n        }\n      }\n    }));\n  }\n\n  function handleformValidation() {\n    if (!videoIdRef.current.value || !channelIdRef.current.value || !videoTitleRef.current.value || !videoDescriptionRef.current.value || !videoImageRef.current.value) {\n      return false;\n    }\n\n    return true;\n  }\n\n  async function handleSubmitNewVideo(e) {\n    e.preventDefault();\n    setIsFormValid({ ...isFormValid,\n      id: videoIdRef.current.value ? videoIdRef.current.value : 'invalid',\n      title: videoTitleRef.current.value ? videoTitleRef.current.value : 'invalid',\n      image: videoImageRef.current.value ? videoImageRef.current.value : 'invalid',\n      channelId: channelIdRef.current.value ? channelIdRef.current.value : 'invalid',\n      description: videoDescriptionRef.current.value ? videoDescriptionRef.current.value : 'invalid'\n    });\n\n    if (!handleformValidation()) {\n      toast.error('Invalid form');\n    } else {\n      try {\n        dispatch(videoAction.createNewVideo.request(newVideo));\n        closeModal();\n      } catch (error) {\n        alert(error);\n        closeModal();\n        setHasError(error);\n      }\n    }\n  }\n\n  return isShowing ? /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-wrapper\",\n      \"aria-modal\": true,\n      \"aria-hidden\": true,\n      tabIndex: -1,\n      role: \"dialog\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-header__title \",\n            children: \"New video \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"modal-close-button\",\n            \"data-dismiss\": \"modal\",\n            \"aria-label\": \"Close\",\n            onClick: hide,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              \"aria-hidden\": \"true\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"add-form\",\n            onSubmit: e => handleSubmitNewVideo(e),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form__div\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: videoIdRef,\n                type: \"text\",\n                className: [isFormValid['id'], 'form__input'].join(' '),\n                placeholder: \" \",\n                name: \"id\",\n                onChange: e => handleIdChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form__label\",\n                children: \"Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form__div\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: videoTitleRef,\n                type: \"text\",\n                className: [isFormValid['title'], 'form__input'].join(' '),\n                placeholder: \" \",\n                name: \"title\",\n                onChange: e => handleSnippetChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form__label\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form__div\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: videoImageRef,\n                type: \"text\",\n                className: [isFormValid['image'], 'form__input'].join(' '),\n                placeholder: \" \",\n                name: \"url\",\n                onChange: e => handleImageChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form__label\",\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form__div\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                ref: channelIdRef,\n                className: [isFormValid['channelId'], 'form__input'].join(' '),\n                name: \"channelId\",\n                defaultValue: '',\n                onChange: e => handleSnippetChange(e),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"Select an Option\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this), optionSelect.map(i => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: i,\n                  children: i\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form__label\",\n                children: \"Channel id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form__div\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: videoDescriptionRef,\n                type: \"text\",\n                className: [isFormValid['description'], 'form__input'].join(' '),\n                placeholder: \" \",\n                name: \"description\",\n                onChange: e => handleSnippetChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form__label\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              disabled: true,\n              className: \"form__button disable\",\n              value: 'loading...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"form__button\",\n              value: 'ADD'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }, this), hasError && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"something wrong\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this), document.body) : null;\n}\n\n_s(TrendingAddForm, \"F9a35CZTBLTGLh0/pygIPjViDPk=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = TrendingAddForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrendingAddForm\");","map":{"version":3,"sources":["E:/fileExFrZip/RFP/src/component/form/trending-add-form.tsx"],"names":["React","useState","useRef","ReactDOM","useDispatch","useSelector","getLoading","videoAction","ToastContainer","toast","optionSelect","TrendingAddForm","props","isShowing","hide","closeModal","newVideo","setNewVideo","id","snippet","channelId","title","description","thumbnails","medium","url","hasError","setHasError","isFormValid","setIsFormValid","image","isLoading","dispatch","videoIdRef","channelIdRef","videoTitleRef","videoDescriptionRef","videoImageRef","diasble","handleIdChange","e","field","target","name","value","handleSnippetChange","prev","handleImageChange","handleformValidation","current","handleSubmitNewVideo","preventDefault","error","createNewVideo","request","alert","createPortal","join","map","i","document","body"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getLoading } from '../../state/reducer/video';\r\nimport * as videoAction from '../../state/action/video';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport './trending-add-form.scss';\r\n\r\nconst optionSelect = ['UCGwu0nbY2wSkW8N-cghnLpA', 'UCANLZYMidaCbLQFWXBC95Jg', 'UCSpfz1IyUA1NBH-cgj8ygUw'];\r\n\r\nexport function TrendingAddForm(props: any) {\r\n  const { isShowing, hide, closeModal } = props;\r\n  const [newVideo, setNewVideo] = useState({\r\n    id: '',\r\n    snippet: {\r\n      channelId: '',\r\n      title: '',\r\n      description: '',\r\n      thumbnails: {\r\n        medium: {\r\n          url: '',\r\n        },\r\n      },\r\n    },\r\n  });\r\n  const [hasError, setHasError] = useState<any | undefined>(null);\r\n  const [isFormValid, setIsFormValid] = useState({\r\n    id: '',\r\n    title: '',\r\n    image: '',\r\n    channelId: '',\r\n    description: '',\r\n  });\r\n  const isLoading = useSelector(getLoading);\r\n  const dispatch = useDispatch();\r\n\r\n  const videoIdRef = useRef<any>(null);\r\n  const channelIdRef = useRef<any>(null);\r\n  const videoTitleRef = useRef<any>(null);\r\n  const videoDescriptionRef = useRef<any>(null);\r\n  const videoImageRef = useRef<any>(null);\r\n\r\n  const diasble = isLoading ? 'disable' : '';\r\n\r\n  //\r\n  function handleIdChange(e: any) {\r\n    let field = e.target.name;\r\n    setNewVideo({\r\n      ...newVideo,\r\n      [field]: e.target.value,\r\n    });\r\n  }\r\n\r\n  function handleSnippetChange(e: any) {\r\n    let field = e.target.name;\r\n    setNewVideo((prev) => ({\r\n      ...prev,\r\n      snippet: {\r\n        ...prev.snippet,\r\n        [field]: e.target.value,\r\n      },\r\n    }));\r\n  }\r\n\r\n  function handleImageChange(e: any) {\r\n    setNewVideo((prev) => ({\r\n      ...prev,\r\n      snippet: {\r\n        ...prev.snippet,\r\n        thumbnails: {\r\n          medium: {\r\n            url: e.target.value,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  }\r\n\r\n  function handleformValidation() {\r\n    if (\r\n      !videoIdRef.current.value ||\r\n      !channelIdRef.current.value ||\r\n      !videoTitleRef.current.value ||\r\n      !videoDescriptionRef.current.value ||\r\n      !videoImageRef.current.value\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async function handleSubmitNewVideo(e: any) {\r\n    e.preventDefault();\r\n    setIsFormValid({\r\n      ...isFormValid,\r\n      id: videoIdRef.current.value ? videoIdRef.current.value : 'invalid',\r\n      title: videoTitleRef.current.value ? videoTitleRef.current.value : 'invalid',\r\n      image: videoImageRef.current.value ? videoImageRef.current.value : 'invalid',\r\n      channelId: channelIdRef.current.value ? channelIdRef.current.value : 'invalid',\r\n      description: videoDescriptionRef.current.value ? videoDescriptionRef.current.value : 'invalid',\r\n    });\r\n    if (!handleformValidation()) {\r\n      toast.error('Invalid form');\r\n    } else {\r\n      try {\r\n        dispatch(videoAction.createNewVideo.request(newVideo));\r\n        closeModal();\r\n      } catch (error) {\r\n        alert(error);\r\n        closeModal();\r\n        setHasError(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  return isShowing\r\n    ? ReactDOM.createPortal(\r\n        <React.Fragment>\r\n          <div className='modal-overlay' />\r\n          <div className='modal-wrapper' aria-modal aria-hidden tabIndex={-1} role='dialog'>\r\n            <div className='modal'>\r\n              <div className='modal-header'>\r\n                <h2 className='modal-header__title '>New video </h2>\r\n                <button type='button' className='modal-close-button' data-dismiss='modal' aria-label='Close' onClick={hide}>\r\n                  <span aria-hidden='true'>&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className='form-container'>\r\n                <form className='add-form' onSubmit={(e) => handleSubmitNewVideo(e)}>\r\n                  <div className='form__div'>\r\n                    <input\r\n                      ref={videoIdRef}\r\n                      type='text'\r\n                      className={[isFormValid['id'], 'form__input'].join(' ')}\r\n                      placeholder=' '\r\n                      name='id'\r\n                      onChange={(e) => handleIdChange(e)}\r\n                    />\r\n                    <label className='form__label'>Id</label>\r\n                  </div>\r\n                  <div className='form__div'>\r\n                    <input\r\n                      ref={videoTitleRef}\r\n                      type='text'\r\n                      className={[isFormValid['title'], 'form__input'].join(' ')}\r\n                      placeholder=' '\r\n                      name='title'\r\n                      onChange={(e) => handleSnippetChange(e)}\r\n                    />\r\n                    <label className='form__label'>Title</label>\r\n                  </div>\r\n                  <div className='form__div'>\r\n                    <input\r\n                      ref={videoImageRef}\r\n                      type='text'\r\n                      className={[isFormValid['image'], 'form__input'].join(' ')}\r\n                      placeholder=' '\r\n                      name='url'\r\n                      onChange={(e) => handleImageChange(e)}\r\n                    />\r\n                    <label className='form__label'>Image</label>\r\n                  </div>\r\n                  <div className='form__div'>\r\n                    <select\r\n                      ref={channelIdRef}\r\n                      className={[isFormValid['channelId'], 'form__input'].join(' ')}\r\n                      name='channelId'\r\n                      defaultValue={''}\r\n                      onChange={(e) => handleSnippetChange(e)}\r\n                    >\r\n                      <option value='' disabled>\r\n                        Select an Option\r\n                      </option>\r\n                      {optionSelect.map((i) => (\r\n                        <option key={i} value={i}>\r\n                          {i}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <label className='form__label'>Channel id</label>\r\n                  </div>\r\n                  <div className='form__div'>\r\n                    <input\r\n                      ref={videoDescriptionRef}\r\n                      type='text'\r\n                      className={[isFormValid['description'], 'form__input'].join(' ')}\r\n                      placeholder=' '\r\n                      name='description'\r\n                      onChange={(e) => handleSnippetChange(e)}\r\n                    />\r\n                    <label className='form__label'>Description</label>\r\n                  </div>\r\n                  {isLoading ? (\r\n                    <input type='submit' disabled className='form__button disable' value={'loading...'} />\r\n                  ) : (\r\n                    <input type='submit' className='form__button' value={'ADD'} />\r\n                  )}\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {hasError && <>something wrong</>}\r\n          <ToastContainer />\r\n        </React.Fragment>,\r\n        document.body\r\n      )\r\n    : null;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
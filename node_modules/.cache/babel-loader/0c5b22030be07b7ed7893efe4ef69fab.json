{"ast":null,"code":"const objMap = ['years', 'months', 'days', 'hours', 'minutes', 'seconds'];\nconst numbers = '\\\\d+(?:[\\\\.,]\\\\d{0,3})?';\nconst datePattern = `(${numbers}Y)?(${numbers}M)?(${numbers}D)?`;\nconst timePattern = `T(${numbers}H)?(${numbers}M)?(${numbers}S)?`;\nconst pattern = new RegExp(`P(?:${datePattern}(?:${timePattern})?)`);\nexport function parseISO8601TimePattern(durationString) {\n  // https://github.com/tolu/ISO8601-duration/blob/master/src/index.js\n  return durationString.match(pattern).slice(1).reduce((prev, next, idx) => {\n    prev[objMap[idx]] = parseFloat(next) || 0;\n    return prev;\n  }, {});\n}\nexport function getVideoDurationString(iso8601DurationString) {\n  if (!iso8601DurationString || iso8601DurationString === '') {\n    return '';\n  }\n\n  let {\n    days,\n    hours,\n    minutes,\n    seconds\n  } = parseISO8601TimePattern(iso8601DurationString);\n  let secondsString = seconds.toString();\n  let minutesString = minutes.toString();\n  let accumulatedHours = days * 24 + hours;\n\n  if (seconds < 10) {\n    secondsString = seconds.toString().padStart(2, '0');\n  }\n\n  if (minutes < 10 && hours !== 0) {\n    minutesString = minutesString.toString().padStart(2, '0');\n  }\n\n  if (!accumulatedHours) {\n    return [minutesString, secondsString].join(':');\n  } else {\n    return [accumulatedHours, minutesString, secondsString].join(':');\n  }\n}","map":{"version":3,"sources":["E:/fileExFrZip/RFP/src/util/time-format.ts"],"names":["objMap","numbers","datePattern","timePattern","pattern","RegExp","parseISO8601TimePattern","durationString","match","slice","reduce","prev","next","idx","parseFloat","getVideoDurationString","iso8601DurationString","days","hours","minutes","seconds","secondsString","toString","minutesString","accumulatedHours","padStart","join"],"mappings":"AAAA,MAAMA,MAAM,GAAG,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4B,OAA5B,EAAqC,SAArC,EAAgD,SAAhD,CAAf;AACA,MAAMC,OAAO,GAAG,yBAAhB;AACA,MAAMC,WAAW,GAAI,IAAGD,OAAQ,OAAMA,OAAQ,OAAMA,OAAQ,KAA5D;AACA,MAAME,WAAW,GAAI,KAAIF,OAAQ,OAAMA,OAAQ,OAAMA,OAAQ,KAA7D;AACA,MAAMG,OAAO,GAAG,IAAIC,MAAJ,CAAY,OAAMH,WAAY,MAAKC,WAAY,KAA/C,CAAhB;AAEA,OAAO,SAASG,uBAAT,CAAiCC,cAAjC,EAAsD;AAC3D;AACA,SAAOA,cAAc,CAClBC,KADI,CACEJ,OADF,EAEJK,KAFI,CAEE,CAFF,EAGJC,MAHI,CAGG,CAACC,IAAD,EAAYC,IAAZ,EAAuBC,GAAvB,KAAoC;AAC1CF,IAAAA,IAAI,CAACX,MAAM,CAACa,GAAD,CAAP,CAAJ,GAAoBC,UAAU,CAACF,IAAD,CAAV,IAAoB,CAAxC;AACA,WAAOD,IAAP;AACD,GANI,EAMF,EANE,CAAP;AAOD;AAED,OAAO,SAASI,sBAAT,CAAgCC,qBAAhC,EAA4D;AACjE,MAAI,CAACA,qBAAD,IAA0BA,qBAAqB,KAAK,EAAxD,EAA4D;AAC1D,WAAO,EAAP;AACD;;AAED,MAAI;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA,OAAf;AAAwBC,IAAAA;AAAxB,MAAoCd,uBAAuB,CAC7DU,qBAD6D,CAA/D;AAIA,MAAIK,aAAa,GAAGD,OAAO,CAACE,QAAR,EAApB;AACA,MAAIC,aAAa,GAAGJ,OAAO,CAACG,QAAR,EAApB;AACA,MAAIE,gBAAgB,GAAGP,IAAI,GAAG,EAAP,GAAYC,KAAnC;;AAEA,MAAIE,OAAO,GAAG,EAAd,EAAkB;AAChBC,IAAAA,aAAa,GAAGD,OAAO,CAACE,QAAR,GAAmBG,QAAnB,CAA4B,CAA5B,EAA+B,GAA/B,CAAhB;AACD;;AACD,MAAIN,OAAO,GAAG,EAAV,IAAgBD,KAAK,KAAK,CAA9B,EAAiC;AAC/BK,IAAAA,aAAa,GAAGA,aAAa,CAACD,QAAd,GAAyBG,QAAzB,CAAkC,CAAlC,EAAqC,GAArC,CAAhB;AACD;;AACD,MAAI,CAACD,gBAAL,EAAuB;AACrB,WAAO,CAACD,aAAD,EAAgBF,aAAhB,EAA+BK,IAA/B,CAAoC,GAApC,CAAP;AACD,GAFD,MAEO;AACL,WAAO,CAACF,gBAAD,EAAmBD,aAAnB,EAAkCF,aAAlC,EAAiDK,IAAjD,CAAsD,GAAtD,CAAP;AACD;AACF","sourcesContent":["const objMap = ['years', 'months', 'days', 'hours', 'minutes', 'seconds'];\nconst numbers = '\\\\d+(?:[\\\\.,]\\\\d{0,3})?';\nconst datePattern = `(${numbers}Y)?(${numbers}M)?(${numbers}D)?`;\nconst timePattern = `T(${numbers}H)?(${numbers}M)?(${numbers}S)?`;\nconst pattern = new RegExp(`P(?:${datePattern}(?:${timePattern})?)`);\n\nexport function parseISO8601TimePattern(durationString: any) {\n  // https://github.com/tolu/ISO8601-duration/blob/master/src/index.js\n  return durationString\n    .match(pattern)\n    .slice(1)\n    .reduce((prev: any, next: any, idx: any) => {\n      prev[objMap[idx]] = parseFloat(next) || 0;\n      return prev;\n    }, {});\n}\n\nexport function getVideoDurationString(iso8601DurationString: any) {\n  if (!iso8601DurationString || iso8601DurationString === '') {\n    return '';\n  }\n\n  let { days, hours, minutes, seconds } = parseISO8601TimePattern(\n    iso8601DurationString\n  );\n\n  let secondsString = seconds.toString();\n  let minutesString = minutes.toString();\n  let accumulatedHours = days * 24 + hours;\n\n  if (seconds < 10) {\n    secondsString = seconds.toString().padStart(2, '0');\n  }\n  if (minutes < 10 && hours !== 0) {\n    minutesString = minutesString.toString().padStart(2, '0');\n  }\n  if (!accumulatedHours) {\n    return [minutesString, secondsString].join(':');\n  } else {\n    return [accumulatedHours, minutesString, secondsString].join(':');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}